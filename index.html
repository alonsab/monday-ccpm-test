<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Monday.com Board View</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Official Monday.com SDK for iframe authentication -->
    <script src="https://cdn.jsdelivr.net/npm/monday-sdk-js@latest/dist/main.js"></script>
</head>
<body class="bg-gray-50 min-h-screen">
    <div class="max-w-7xl mx-auto p-6">
        <!-- Header -->
        <div class="flex items-center justify-between mb-6">
            <div>
                <h1 class="text-3xl font-bold text-gray-900 mb-2">üìã Monday.com Board View</h1>
                <p class="text-gray-600">Official Monday.com SDK - Seamless Authentication</p>
            </div>
            <div class="flex items-center space-x-4">
                <div id="tokenStatus" class="text-sm text-gray-600">
                    <span id="tokenTime">Initializing...</span>
                </div>
                <button id="refreshBtn" onclick="refreshData()" class="px-4 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 flex items-center">
                    <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>
                    </svg>
                    Refresh Data
                </button>
            </div>
        </div>

        <!-- Connection Status -->
        <div id="connectionStatus" class="mb-6 p-4 rounded-lg border">
            <div class="flex items-center">
                <div id="statusIndicator" class="w-3 h-3 rounded-full mr-3 bg-yellow-500"></div>
                <span id="statusText" class="text-sm font-medium">Initializing Monday.com SDK...</span>
            </div>
        </div>

        <!-- Token Expiry Warning -->
        <div id="tokenWarning" class="hidden mb-6 p-4 bg-yellow-50 border border-yellow-200 text-yellow-800 rounded-lg">
            <div class="flex items-center">
                <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"/>
                </svg>
                <span id="tokenWarningText">Your session will expire soon. Please refresh the page to continue.</span>
            </div>
        </div>

        <!-- Loading State -->
        <div id="loading" class="text-center py-12">
            <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"></div>
            <p class="text-gray-600">Connecting to Monday.com via Official SDK...</p>
        </div>

        <!-- Error State -->
        <div id="error" class="hidden bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6">
            <div class="flex items-center">
                <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"/>
                </svg>
                <span id="errorMessage">Error loading board data</span>
            </div>
        </div>

        <!-- Board Info -->
        <div id="boardInfo" class="hidden bg-white rounded-lg shadow-sm border mb-6 p-6">
            <h2 class="text-xl font-semibold text-gray-900 mb-2" id="boardName">Board Name</h2>
            <div class="flex items-center text-sm text-gray-600">
                <span id="boardId" class="mr-4">Board ID: </span>
                <span id="itemCount" class="mr-4">Items: </span>
                <span id="lastUpdate">Last Updated: </span>
            </div>
        </div>

        <!-- Tasks Table -->
        <div id="tasksContainer" class="hidden bg-white rounded-lg shadow-sm border overflow-hidden">
            <div class="px-6 py-4 border-b bg-gray-50">
                <h3 class="text-lg font-semibold text-gray-900">Board Items</h3>
                <p class="text-sm text-gray-600 mt-1">Your real Monday.com board tasks</p>
            </div>
            
            <div class="overflow-x-auto">
                <table class="min-w-full divide-y divide-gray-200">
                    <thead class="bg-gray-50">
                        <tr>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Item Name</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Column Data</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Last Update</th>
                        </tr>
                    </thead>
                    <tbody id="tasksTableBody" class="bg-white divide-y divide-gray-200">
                        <!-- Tasks will be populated here -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Debug Info (collapsible) -->
        <div class="mt-6">
            <button id="toggleDebug" class="text-sm text-gray-600 hover:text-gray-800 flex items-center">
                <svg id="debugArrow" class="w-4 h-4 mr-1 transform transition-transform" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"/>
                </svg>
                Debug Information
            </button>
            
            <div id="debugInfo" class="hidden mt-3 bg-gray-900 text-gray-300 p-4 rounded-lg font-mono text-xs overflow-auto max-h-96">
                <div id="debugContent">Debug information will appear here...</div>
            </div>
        </div>
    </div>

    <script>
        // Official Monday.com SDK Client for Iframe Authentication
        class MondaySDKClient {
            constructor() {
                this.monday = null;
                this.boardId = null;
                this.accountId = null;
                this.userId = null;
                this.isAuthenticated = false;
                this.tokenExpiry = null;
                this.sessionToken = null;
            }

            parseURLParams() {
                const urlParams = new URLSearchParams(window.location.search);
                return {
                    boardId: urlParams.get('boardId'),
                    sessionToken: urlParams.get('sessionToken'),
                    instanceId: urlParams.get('instanceId'),
                    boardViewId: urlParams.get('boardViewId')
                };
            }

            decodeJWTPayload(token) {
                try {
                    const parts = token.split('.');
                    if (parts.length !== 3) throw new Error('Invalid JWT format');
                    
                    let payload = parts[1];
                    while (payload.length % 4) payload += '=';
                    payload = payload.replace(/-/g, '+').replace(/_/g, '/');
                    
                    return JSON.parse(atob(payload));
                } catch (error) {
                    throw new Error(`JWT decode failed: ${error.message}`);
                }
            }

            async initialize() {
                try {
                    console.log('üöÄ Initializing Official Monday.com SDK...');
                    console.log('üì° Using SeamlessApiClient for iframe authentication');
                    
                    // Check if Monday SDK is available
                    if (typeof mondaySDK === 'undefined') {
                        throw new Error('Monday.com SDK not loaded - check CDN connection');
                    }
                    
                    // Initialize Monday SDK
                    this.monday = mondaySDK();
                    console.log('‚úÖ Monday.com SDK initialized successfully');
                    
                    // Parse URL parameters for board ID and token info
                    const params = this.parseURLParams();
                    
                    if (!params.boardId) {
                        throw new Error('Missing boardId parameter in URL');
                    }
                    
                    this.boardId = params.boardId;
                    this.sessionToken = params.sessionToken;
                    
                    // Get context from Monday.com
                    console.log('üìã Getting context from Monday.com...');
                    const context = await this.monday.get('context');
                    console.log('‚úÖ Context received:', context);
                    
                    if (context && context.data) {
                        // Use context data if available
                        this.boardId = context.data.boardId || this.boardId;
                        this.userId = context.data.userId;
                        this.accountId = context.data.accountId;
                    }
                    
                    // If we have sessionToken from URL, decode it for additional info
                    if (this.sessionToken) {
                        try {
                            const decodedToken = this.decodeJWTPayload(this.sessionToken);
                            if (decodedToken.dat) {
                                this.userId = this.userId || decodedToken.dat.user_id;
                                this.accountId = this.accountId || decodedToken.dat.account_id;
                                this.tokenExpiry = new Date(decodedToken.exp * 1000);
                            }
                        } catch (error) {
                            console.warn('‚ö†Ô∏è Could not decode sessionToken, but proceeding with SDK auth:', error.message);
                        }
                    }
                    
                    this.isAuthenticated = true;
                    
                    console.log('‚úÖ Authentication successful:', {
                        method: 'Official Monday.com SDK',
                        boardId: this.boardId,
                        userId: this.userId,
                        accountId: this.accountId,
                        hasContext: !!context?.data,
                        hasSessionToken: !!this.sessionToken
                    });
                    
                    // Test SDK connectivity
                    await this.testSDKConnection();
                    
                    return {
                        success: true,
                        boardId: this.boardId,
                        userId: this.userId,
                        accountId: this.accountId,
                        method: 'Monday.com SDK'
                    };
                    
                } catch (error) {
                    console.error('‚ùå SDK initialization failed:', error);
                    return { success: false, error: error.message };
                }
            }

            async testSDKConnection() {
                try {
                    console.log('üîå Testing Monday.com SDK connection...');
                    
                    // Test with a simple query to get current user info
                    const userQuery = `query { me { id name email } }`;
                    const result = await this.monday.api(userQuery);
                    
                    if (result.data?.me) {
                        console.log('‚úÖ SDK connection successful:', {
                            userId: result.data.me.id,
                            userName: result.data.me.name,
                            userEmail: result.data.me.email
                        });
                        
                        // Update user info from API response
                        this.userId = result.data.me.id;
                        
                        return true;
                    } else {
                        throw new Error('No user data returned from SDK');
                    }
                } catch (error) {
                    console.warn('‚ö†Ô∏è SDK connection test failed:', error.message);
                    console.log('üîÑ Proceeding anyway - SDK might work for board queries');
                    return true; // Don't fail initialization, just warn
                }
            }

            async executeGraphQLQuery(query, variables = {}) {
                if (!this.monday) {
                    throw new Error('Monday SDK not initialized');
                }
                
                try {
                    console.log('üì§ Executing GraphQL query via Monday.com SDK...');
                    console.log('üìã Query preview:', query.substring(0, 100).replace(/\s+/g, ' ').trim() + '...');
                    
                    // Use Monday.com SDK's api method
                    const result = await this.monday.api(query, { variables });
                    
                    if (result.errors?.length > 0) {
                        console.error('‚ùå GraphQL errors:', result.errors);
                        throw new Error(`GraphQL Error: ${result.errors[0].message}`);
                    }
                    
                    if (!result.data) {
                        throw new Error('No data returned from Monday.com API');
                    }
                    
                    console.log('‚úÖ Query executed successfully via Monday.com SDK');
                    return result;
                    
                } catch (error) {
                    console.error('‚ùå SDK query execution failed:', error);
                    throw error;
                }
            }

            async getBoardData() {
                console.log('üìä Fetching board data via Monday.com SDK for ID:', this.boardId);

                const query = `
                    query GetBoardData($boardId: ID!) {
                        boards(ids: [$boardId]) {
                            id
                            name
                            description
                            state
                            items_count
                            updated_at
                            board_folder_id
                            board_kind
                            columns {
                                id
                                title
                                type
                                settings_str
                                archived
                                width
                            }
                            groups {
                                id
                                title
                                color
                                position
                                archived
                                deleted
                            }
                            items {
                                id
                                name
                                state
                                created_at
                                updated_at
                                creator_id
                                group {
                                    id
                                    title
                                    color
                                }
                                column_values {
                                    id
                                    value
                                    text
                                    type
                                    title
                                    additional_info
                                }
                                subitems {
                                    id
                                    name
                                    column_values {
                                        id
                                        title
                                        text
                                        value
                                    }
                                }
                            }
                        }
                    }
                `;
                
                const variables = {
                    boardId: this.boardId
                };

                const result = await this.executeGraphQLQuery(query, variables);
                
                if (!result.data.boards?.length) {
                    throw new Error(`Board ${this.boardId} not found or access denied. Please check board permissions.`);
                }
                
                const boardData = result.data.boards[0];
                
                console.log('‚úÖ Real board data loaded successfully:', {
                    id: boardData.id,
                    name: boardData.name,
                    state: boardData.state,
                    itemCount: boardData.items?.length || 0,
                    columnCount: boardData.columns?.length || 0,
                    groupCount: boardData.groups?.length || 0,
                    boardKind: boardData.board_kind,
                    dataSource: 'Monday.com API via Official SDK'
                });
                
                return boardData;
            }

            getTokenTimeRemaining() {
                if (!this.tokenExpiry) return 0;
                return Math.max(0, Math.floor((this.tokenExpiry.getTime() - Date.now()) / 1000));
            }

            isTokenExpiringSoon() {
                return this.getTokenTimeRemaining() < 60;
            }

            getStatus() {
                return {
                    isAuthenticated: this.isAuthenticated,
                    boardId: this.boardId,
                    userId: this.userId,
                    accountId: this.accountId,
                    tokenExpiry: this.tokenExpiry,
                    timeRemaining: this.getTokenTimeRemaining(),
                    expiringSoon: this.isTokenExpiringSoon()
                };
            }
        }

        // App State (Clean Version with Official SDK)
        const mondayApp = {
            client: new MondaySDKClient(),
            boardData: null,
            isLoading: true,
            error: null,
            tokenCheckInterval: null,
            communicationMethod: 'Official Monday.com SDK'
        };

        // DOM Elements
        const elements = {
            loading: document.getElementById('loading'),
            error: document.getElementById('error'),
            errorMessage: document.getElementById('errorMessage'),
            connectionStatus: document.getElementById('connectionStatus'),
            statusIndicator: document.getElementById('statusIndicator'),
            statusText: document.getElementById('statusText'),
            boardInfo: document.getElementById('boardInfo'),
            boardName: document.getElementById('boardName'),
            boardId: document.getElementById('boardId'),
            itemCount: document.getElementById('itemCount'),
            lastUpdate: document.getElementById('lastUpdate'),
            tasksContainer: document.getElementById('tasksContainer'),
            tasksTableBody: document.getElementById('tasksTableBody'),
            debugInfo: document.getElementById('debugInfo'),
            debugContent: document.getElementById('debugContent'),
            toggleDebug: document.getElementById('toggleDebug'),
            debugArrow: document.getElementById('debugArrow'),
            tokenTime: document.getElementById('tokenTime'),
            tokenWarning: document.getElementById('tokenWarning'),
            tokenWarningText: document.getElementById('tokenWarningText')
        };

        // Utility Functions
        function updateConnectionStatus(status, message) {
            const colors = {
                connected: 'bg-green-500',
                warning: 'bg-yellow-500',
                error: 'bg-red-500',
                connecting: 'bg-blue-500'
            };
            elements.statusIndicator.className = `w-3 h-3 rounded-full mr-3 ${colors[status] || 'bg-gray-500'}`;
            elements.statusText.textContent = message;
        }

        function showLoading() {
            elements.loading?.classList.remove('hidden');
            elements.error?.classList.add('hidden');
            elements.boardInfo?.classList.add('hidden');
            elements.tasksContainer?.classList.add('hidden');
        }

        function showError(message) {
            elements.loading?.classList.add('hidden');
            elements.error?.classList.remove('hidden');
            if (elements.errorMessage) elements.errorMessage.textContent = message;
            updateConnectionStatus('error', 'Connection failed');
        }

        function showContent() {
            elements.loading?.classList.add('hidden');
            elements.error?.classList.add('hidden');
            elements.boardInfo?.classList.remove('hidden');
            elements.tasksContainer?.classList.remove('hidden');
        }

        function formatDate(dateString) {
            if (!dateString) return 'N/A';
            try {
                return new Date(dateString).toLocaleString();
            } catch (e) {
                return dateString;
            }
        }

        function getStatusBadge(state) {
            const colors = {
                'active': 'bg-green-100 text-green-800',
                'archived': 'bg-gray-100 text-gray-800',
                'deleted': 'bg-red-100 text-red-800',
                'done': 'bg-blue-100 text-blue-800'
            };
            
            return `<span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${colors[state] || 'bg-gray-100 text-gray-800'}">
                ${state || 'unknown'}
            </span>`;
        }

        function renderBoardInfo(boardData) {
            if (elements.boardName) elements.boardName.textContent = boardData.name || 'Unnamed Board';
            if (elements.boardId) elements.boardId.textContent = `Board ID: ${boardData.id}`;
            if (elements.itemCount) elements.itemCount.textContent = `Items: ${boardData.items?.length || 0}`;
            if (elements.lastUpdate) elements.lastUpdate.textContent = `Last Updated: ${formatDate(boardData.updated_at)}`;
        }

        function parseColumnValue(columnValue) {
            if (!columnValue.value) return columnValue.text || '';
            
            try {
                const parsed = JSON.parse(columnValue.value);
                if (parsed.text) return parsed.text;
                if (parsed.label) return parsed.label;
                if (parsed.date) return new Date(parsed.date).toLocaleDateString();
                if (Array.isArray(parsed) && parsed.length > 0) {
                    return parsed.map(item => item.name || item.text || item).join(', ');
                }
                return columnValue.text || columnValue.value;
            } catch (e) {
                return columnValue.text || columnValue.value;
            }
        }

        function renderTasks(items) {
            if (!elements.tasksTableBody) return;
            
            if (!items || items.length === 0) {
                elements.tasksTableBody.innerHTML = `
                    <tr>
                        <td colspan="4" class="px-6 py-8 text-center text-gray-500">
                            <div class="flex flex-col items-center">
                                <svg class="w-8 h-8 mb-2 text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                                </svg>
                                <p>No items found in this board</p>
                                <p class="text-xs mt-1">The board might be empty or you might not have access to view items</p>
                            </div>
                        </td>
                    </tr>
                `;
                return;
            }

            elements.tasksTableBody.innerHTML = items.map(item => {
                const keyColumns = item.column_values
                    ?.filter(cv => cv.value && cv.value !== '""' && cv.value !== '{}' && cv.value !== 'null')
                    ?.filter(cv => cv.type !== 'name') // Skip name column as it's already shown
                    ?.slice(0, 3)
                    ?.map(cv => {
                        const displayValue = parseColumnValue(cv);
                        const colorClass = cv.type === 'status' ? 'bg-blue-50 text-blue-800 border-blue-200' : 'bg-gray-50 text-gray-800 border-gray-200';
                        
                        return `<span class="inline-block ${colorClass} px-2 py-1 rounded border text-xs mr-1 mb-1" title="${cv.title} (${cv.type})">
                            <strong>${cv.title}:</strong> ${displayValue}
                        </span>`;
                    })
                    ?.join('') || '<span class="text-gray-400 text-sm italic">No column data</span>';

                const groupInfo = item.group ? 
                    `<div class="text-xs text-gray-500 flex items-center mt-1">
                        <div class="w-2 h-2 rounded-full mr-1" style="background-color: ${item.group.color}"></div>
                        ${item.group.title}
                    </div>` : '';

                const subitemCount = item.subitems?.length ? 
                    `<div class="text-xs text-gray-400">${item.subitems.length} subitems</div>` : '';

                return `
                    <tr class="hover:bg-gray-50 transition-colors">
                        <td class="px-6 py-4">
                            <div>
                                <div class="text-sm font-medium text-gray-900">${item.name || 'Unnamed Item'}</div>
                                <div class="text-xs text-gray-500">ID: ${item.id}</div>
                                ${groupInfo}
                                ${subitemCount}
                            </div>
                        </td>
                        <td class="px-6 py-4 whitespace-nowrap">
                            ${getStatusBadge(item.state)}
                        </td>
                        <td class="px-6 py-4">
                            <div class="max-w-sm">${keyColumns}</div>
                        </td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                            <div>Updated: ${formatDate(item.updated_at)}</div>
                            <div class="text-xs">Created: ${formatDate(item.created_at)}</div>
                        </td>
                    </tr>
                `;
            }).join('');

            console.log(`‚úÖ Rendered ${items.length} real board items`);
        }

        function updateDebugInfo() {
            if (!elements.debugContent) return;
            
            const clientStatus = mondayApp.client.getStatus();
            const urlParams = new URLSearchParams(window.location.search);
            
            const debugData = {
                timestamp: new Date().toISOString(),
                communicationMethod: mondayApp.communicationMethod,
                authentication: {
                    isAuthenticated: clientStatus.isAuthenticated,
                    boardId: clientStatus.boardId,
                    userId: clientStatus.userId,
                    accountId: clientStatus.accountId,
                    tokenExpiry: clientStatus.tokenExpiry,
                    timeRemaining: clientStatus.timeRemaining,
                    sdkAvailable: typeof mondaySDK !== 'undefined'
                },
                urlParameters: {
                    boardId: urlParams.get('boardId'),
                    hasSessionToken: !!urlParams.get('sessionToken'),
                    sessionTokenLength: urlParams.get('sessionToken')?.length
                },
                iframeInfo: {
                    hasParentWindow: window.parent !== window,
                    origin: window.location.origin,
                    parentOrigin: document.referrer || 'Unknown',
                    isInIframe: window.self !== window.top
                },
                boardData: mondayApp.boardData ? {
                    id: mondayApp.boardData.id,
                    name: mondayApp.boardData.name,
                    itemCount: mondayApp.boardData.items?.length || 0,
                    columnCount: mondayApp.boardData.columns?.length || 0,
                    dataSource: 'Official Monday.com SDK'
                } : null,
                error: mondayApp.error
            };

            elements.debugContent.innerHTML = `<pre>${JSON.stringify(debugData, null, 2)}</pre>`;
        }

        function startTokenMonitoring() {
            function updateTokenDisplay() {
                const status = mondayApp.client.getStatus();
                const minutes = Math.floor(status.timeRemaining / 60);
                const seconds = status.timeRemaining % 60;
                
                if (elements.tokenTime) {
                    if (status.timeRemaining <= 0) {
                        elements.tokenTime.innerHTML = `<span class="text-red-600 font-medium">‚ö† Expired</span>`;
                        elements.tokenWarning?.classList.remove('hidden');
                    } else if (status.expiringSoon) {
                        elements.tokenTime.innerHTML = `<span class="text-yellow-600 font-medium">‚è∞ ${minutes}m ${seconds}s left</span>`;
                        elements.tokenWarning?.classList.remove('hidden');
                    } else {
                        elements.tokenTime.innerHTML = `<span class="text-green-600 font-medium">‚úÖ ${minutes}m remaining</span>`;
                        elements.tokenWarning?.classList.add('hidden');
                    }
                }
            }
            
            updateTokenDisplay();
            
            mondayApp.tokenCheckInterval = setInterval(() => {
                const status = mondayApp.client.getStatus();
                updateTokenDisplay();
                
                if (status.timeRemaining <= 0) {
                    clearInterval(mondayApp.tokenCheckInterval);
                    updateConnectionStatus('error', 'Session expired');
                    showError('Session expired. Please refresh the page.');
                } else if (status.expiringSoon) {
                    updateConnectionStatus('warning', 'Session expiring soon');
                } else {
                    updateConnectionStatus('connected', `‚úÖ Connected - ${Math.floor(status.timeRemaining / 60)}m left`);
                }
            }, 5000);
        }

        // Main Functions
        async function initializeApp() {
            try {
                showLoading();
                updateConnectionStatus('connecting', 'Initializing Official Monday.com SDK...');

                console.log('üöÄ Starting Official Monday.com SDK Client');

                const result = await mondayApp.client.
